<div class="top-bar">
    <div class="title-container-left">
        <a routerLink="/home">
            <img class="hv-logo" src="../../../assets/images/huawei_video_logo_reverse.png">
            <p class="title">HUAWEI VIDEO</p>
        </a>
    </div>
    <input type="image" class="logout-icon" src="../../../assets/images/baseline_logout_white_48dp.png"
        (click)="logout()" AutoComplete=off>
    <input class="search-box" [(ngModel)]="query" (ngModelChange)="getSearchResults()" type="text"
        onclick="this.select()" AutoComplete=off maxlength="25">
</div>

<div *ngIf="!query.length" class="page-container-without-search">
    <div class="gallery-container">
        <h3>TRENDING NOW</h3>
        <div class="gallery">
            <a *ngFor="let topPopMovie of topPopMovies" (click)="selectMovie(topPopMovie)">
                <img *ngIf="topPopMovie.poster" class="gallery-cell" [src]=topPopMovie.poster>
            </a>
        </div>
    </div>

    <div class="gallery-container">
        <h3>RECOMMENDED FOR YOU</h3>
        <div class="gallery">
            <a *ngFor="let recommendedMovie of recommendedMovies" (click)="selectMovie(recommendedMovie)">
                <img *ngIf="recommendedMovie.poster" class="gallery-cell" [src]=recommendedMovie.poster>
            </a>
        </div>
    </div>

    <div class="gallery-container">
        <h3>RECENTLY WATCHED</h3>
        <div class="gallery">
            <a *ngFor="let watchedMovie of watchedMovies.slice(0, 15)" (click)="selectMovie(watchedMovie)">
                <img *ngIf="watchedMovie.poster" class="gallery-cell" [src]=watchedMovie.poster>
            </a>
        </div>
    </div>
</div>

<div *ngIf="query.length" class="page-container-with-search">
    <div class="search-results-container">
        <h3 *ngIf="!(searchResults.length == 1)">{{searchResults.length}} RESULTS FOR "{{query | uppercase}}"</h3>
        <h3 *ngIf="(searchResults.length == 1)">{{searchResults.length}} RESULT FOR "{{query | uppercase}}"</h3>
        <a *ngFor="let searchResult of searchResults" (click)="selectMovie(searchResult)">
            <img *ngIf="searchResult.poster" class="search-cell" [src]=searchResult.poster>
        </a>
    </div>
</div>