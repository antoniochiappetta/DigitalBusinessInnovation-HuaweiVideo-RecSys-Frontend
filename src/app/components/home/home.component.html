<div class="top-bar">
    <div class="title-container-left">
        <a routerLink="/home" (click)="emptyQuery()">
            <img class="hv-logo" src="../../../assets/images/huawei_video_logo_reverse.png">
            <p class="title">HUAWEI VIDEO</p>
        </a>
    </div>
    <input type="image" class="logout-icon" name="no-autofill"
        src="../../../assets/images/baseline_logout_white_48dp.png" (click)="logout()" AutoComplete=off>
    <input class="search-box" name="no-autofill" [(ngModel)]="query" (ngModelChange)="getSearchResults()" type="text"
        onclick="this.select()" AutoComplete=off maxlength="25">
</div>

<div *ngIf="!query.length" class="page-container-without-search">
    <div class="gallery-container">
        <h3>TRENDING NOW</h3>
        <div class="gallery">
            <div *ngFor="let topPopMovie of topPopMovies" (click)="selectMovie(topPopMovie)"
                class="gallery-cell" title="{{topPopMovie.title}}"
                [ngStyle]="{'background-image': (topPopMovie.poster ? 'url(' + topPopMovie.poster + ')' : 'url(../../../assets/images/baseline_insert_photo_black_48dp.png)' ) }">
            </div>
        </div>
    </div>

    <div class="gallery-container">
        <h3>RECOMMENDED FOR YOU</h3>
        <div class="gallery">
            <div *ngFor="let recommendedMovie of recommendedMovies" (click)="selectMovie(recommendedMovie)"
                class="gallery-cell" title="{{recommendedMovie.title}}"
                [ngStyle]="{'background-image': (recommendedMovie.poster ? 'url(' + recommendedMovie.poster + ')' : 'url(../../../assets/images/baseline_insert_photo_black_48dp.png)' ) }">
            </div>
        </div>
    </div>

    <div class="gallery-container">
        <h3>RECENTLY WATCHED</h3>
        <div class="gallery">
            <div *ngFor="let watchedMovie of watchedMovies" (click)="selectMovie(watchedMovie)"
                class="gallery-cell" title="{{watchedMovie.title}}"
                [ngStyle]="{'background-image': (watchedMovie.poster ? 'url(' + watchedMovie.poster + ')' : 'url(../../../assets/images/baseline_insert_photo_black_48dp.png)' ) }">
            </div>
        </div>
    </div>
</div>

<div *ngIf="query.length" class="page-container-with-search">
    <div class="search-results-container">
        <h3 *ngIf="!(searchResults.length == 1)">{{searchResults.length}} RESULTS FOR "{{query | uppercase}}"</h3>
        <h3 *ngIf="(searchResults.length == 1)">{{searchResults.length}} RESULT FOR "{{query | uppercase}}"</h3>
        <div *ngFor="let searchResult of searchResults" (click)="selectMovie(searchResult)"
            class="search-cell" title="{{searchResult.title}}"
            [ngStyle]="{'background-image': (searchResult.poster ? 'url(' + searchResult.poster + ')' : 'url(../../../assets/images/baseline_insert_photo_black_48dp.png)' ) }">
        </div>
    </div>
</div>